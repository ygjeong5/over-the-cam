commit 1220a2cc20d5f4a2db022e53c659e478c0e6b61f
Author: ghkdtnql <ghkdtnql@gmail.com>
Date:   Sun Feb 2 16:46:24 2025 +0900

    �fix: front, back Jenkins 파일 따로 생성 후 수정

diff --git a/Jenkinsfile-backend b/Jenkinsfile-backend
new file mode 100644
index 0000000..593a763
--- /dev/null
+++ b/Jenkinsfile-backend
@@ -0,0 +1,57 @@
+pipeline {
+    agent any
+
+
+    environment {
+       DOCKERHUB_CREDENTIALS = credentials('docker')
+       DOCKER_IMAGE_BACKEND = 'ghkdtnql/overthecam-backend'
+    }
+
+    stages {
+        stage('Build BE') {
+            steps {
+              dir('feontend/overthecam') {
+                  sh '''
+                      chmod +x gradlew
+                      rm -rf build
+                      ./gradlew clean build -x test
+                  '''
+              }
+            }
+        }
+        stage('Docker Build & Push') {
+            steps {
+              script {
+                  dir('backend/overthecam') {
+                      sh """
+                          docker build -t ${DOCKER_IMAGE_BACKEND}:${BUILD_NUMBER} .
+                          echo $DOCKERHUB_CREDENTIALS_PSW | docker login -u $DOCKERHUB_CREDENTIALS_USR --password-stdin
+                          docker push ${DOCKER_IMAGE_BACKEND}:${BUILD_NUMBER}
+                      """
+                  }
+              }
+            }
+        }
+        stage('Deploy to EC2') {
+          steps {
+              sshagent(['ssh']) {
+                  sh """
+                      ssh -o StrictHostKeyChecking=no ubuntu@i12d204.p.ssafy.io '
+                          # Backend
+                          docker pull ${DOCKER_IMAGE_BACKEND}:${BUILD_NUMBER}
+                          docker stop backend || true
+                          docker rm backend || true
+                          docker run -d --name backend -p 8080:8080 ${DOCKER_IMAGE_BACKEND}:${BUILD_NUMBER}
+
+                          # Frontend
+                          docker pull ${DOCKER_IMAGE_FRONTEND}:${BUILD_NUMBER}
+                          docker stop frontend || true
+                          docker rm frontend || true
+                          docker run -d --name frontend -p 5173:80 ${DOCKER_IMAGE_FRONTEND}:${BUILD_NUMBER}
+                      '
+                  """
+              }
+          }
+        }
+    }
+}
\ No newline at end of file
diff --git a/Jenkinsfile b/Jenkinsfile-frontend
similarity index 100%
rename from Jenkinsfile
rename to Jenkinsfile-frontend
diff --git a/backend/.idea/.gitignore b/backend/.idea/.gitignore
new file mode 100644
index 0000000..13566b8
--- /dev/null
+++ b/backend/.idea/.gitignore
@@ -0,0 +1,8 @@
+# Default ignored files
+/shelf/
+/workspace.xml
+# Editor-based HTTP Client requests
+/httpRequests/
+# Datasource local storage ignored files
+/dataSources/
+/dataSources.local.xml
diff --git a/backend/.idea/backend.iml b/backend/.idea/backend.iml
new file mode 100644
index 0000000..d6ebd48
--- /dev/null
+++ b/backend/.idea/backend.iml
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<module type="JAVA_MODULE" version="4">
+  <component name="NewModuleRootManager" inherit-compiler-output="true">
+    <exclude-output />
+    <content url="file://$MODULE_DIR$" />
+    <orderEntry type="inheritedJdk" />
+    <orderEntry type="sourceFolder" forTests="false" />
+  </component>
+</module>
\ No newline at end of file
diff --git a/backend/.idea/misc.xml b/backend/.idea/misc.xml
new file mode 100644
index 0000000..639900d
--- /dev/null
+++ b/backend/.idea/misc.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectRootManager">
+    <output url="file://$PROJECT_DIR$/out" />
+  </component>
+</project>
\ No newline at end of file
diff --git a/backend/.idea/modules.xml b/backend/.idea/modules.xml
new file mode 100644
index 0000000..e066844
--- /dev/null
+++ b/backend/.idea/modules.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="ProjectModuleManager">
+    <modules>
+      <module fileurl="file://$PROJECT_DIR$/.idea/backend.iml" filepath="$PROJECT_DIR$/.idea/backend.iml" />
+    </modules>
+  </component>
+</project>
\ No newline at end of file
diff --git a/backend/.idea/vcs.xml b/backend/.idea/vcs.xml
new file mode 100644
index 0000000..6c0b863
--- /dev/null
+++ b/backend/.idea/vcs.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="VcsDirectoryMappings">
+    <mapping directory="$PROJECT_DIR$/.." vcs="Git" />
+  </component>
+</project>
\ No newline at end of file
